const a0_0x3c3c7a=a0_0x35e1;(function(_0x31241e,_0x55c294){const _0x3f9e28=a0_0x35e1,_0x48d6d2=_0x31241e();while(!![]){try{const _0x19860a=-parseInt(_0x3f9e28(0xa9))/0x1*(parseInt(_0x3f9e28(0xca))/0x2)+parseInt(_0x3f9e28(0xbd))/0x3+-parseInt(_0x3f9e28(0xa6))/0x4+-parseInt(_0x3f9e28(0xb8))/0x5+parseInt(_0x3f9e28(0xa1))/0x6*(-parseInt(_0x3f9e28(0xaf))/0x7)+-parseInt(_0x3f9e28(0xb7))/0x8*(-parseInt(_0x3f9e28(0xb6))/0x9)+parseInt(_0x3f9e28(0xc0))/0xa*(parseInt(_0x3f9e28(0xc1))/0xb);if(_0x19860a===_0x55c294)break;else _0x48d6d2['push'](_0x48d6d2['shift']());}catch(_0xc90f8){_0x48d6d2['push'](_0x48d6d2['shift']());}}}(a0_0x1917,0x9bf54));if(process[a0_0x3c3c7a(0xa5)]['NODE_ENV']!==a0_0x3c3c7a(0x9d))require(a0_0x3c3c7a(0xd8))[a0_0x3c3c7a(0xab)]();const express=require(a0_0x3c3c7a(0xb4)),app=express(),server=require(a0_0x3c3c7a(0xd1))['Server'](app),io=require(a0_0x3c3c7a(0xbe))(server),upload=require(a0_0x3c3c7a(0xa7)),{ExpressPeerServer}=require(a0_0x3c3c7a(0xc4)),cookie=require(a0_0x3c3c7a(0xc8)),passport=require(a0_0x3c3c7a(0x93)),flash=require('express-flash'),mongoose=require(a0_0x3c3c7a(0xc5)),passportAuthenticator=require('./security_functions/passportStrategy'),user=require(a0_0x3c3c7a(0xa2)),signup=require('./team_routes/auth/signup'),login=require(a0_0x3c3c7a(0x9f)),logout=require(a0_0x3c3c7a(0xc2)),index=require(a0_0x3c3c7a(0xd2)),{authorize}=require('./security_functions/authenFunc'),peerServer=ExpressPeerServer(server,{'debug':!![]}),{v4:uuidV4}=require('uuid');mongoose[a0_0x3c3c7a(0xb5)](process[a0_0x3c3c7a(0xa5)][a0_0x3c3c7a(0x9e)])[a0_0x3c3c7a(0xcc)](()=>{const _0xe7aeb5=a0_0x3c3c7a;console[_0xe7aeb5(0xba)](_0xe7aeb5(0xb0));}),passportAuthenticator(passport,user),app[a0_0x3c3c7a(0x9c)]('view\x20engine','ejs'),app[a0_0x3c3c7a(0xa8)](express[a0_0x3c3c7a(0xce)]({'extended':![]})),app[a0_0x3c3c7a(0xa8)](cookie({'maxAge':0x1e*0x18*0x3c*0x3c*0x3e8,'keys':['promeet']})),app[a0_0x3c3c7a(0xa8)](passport[a0_0x3c3c7a(0xcb)]()),app[a0_0x3c3c7a(0xa8)](passport['session']()),app[a0_0x3c3c7a(0xa8)](express[a0_0x3c3c7a(0xc6)]('public')),app['use'](flash()),app[a0_0x3c3c7a(0xa8)](require('express-ejs-layouts')),app[a0_0x3c3c7a(0x9c)](a0_0x3c3c7a(0x98),a0_0x3c3c7a(0x95)),app[a0_0x3c3c7a(0xa8)](upload()),app[a0_0x3c3c7a(0xa8)](a0_0x3c3c7a(0xda),login),app[a0_0x3c3c7a(0xa8)](a0_0x3c3c7a(0xdc),signup),app['use']('/logout',logout),app[a0_0x3c3c7a(0xa8)](a0_0x3c3c7a(0xae),peerServer),app['get'](a0_0x3c3c7a(0xbf),authorize,(_0x5ccd2c,_0x2095e0)=>{const _0x3478f5=a0_0x3c3c7a;_0x2095e0[_0x3478f5(0xcd)]('/'+uuidV4());}),app[a0_0x3c3c7a(0xa8)]('/',index),app[a0_0x3c3c7a(0xb1)](a0_0x3c3c7a(0xb9),(_0x30fd9b,_0x31c14f)=>{const _0x2ac18f=a0_0x3c3c7a;_0x31c14f['render']('room',{'roomId':_0x30fd9b[_0x2ac18f(0xd4)]['room']});}),app[a0_0x3c3c7a(0x97)]('/',(_0x4b9e98,_0x254bee)=>{const _0x53f883=a0_0x3c3c7a;if(_0x4b9e98[_0x53f883(0x9a)]){console[_0x53f883(0xba)](_0x4b9e98['files']);var _0x4ff390=_0x4b9e98[_0x53f883(0x9a)]['file'],_0xf85ba8=_0x4ff390[_0x53f883(0xac)];console[_0x53f883(0xba)](_0xf85ba8),uploadPath=__dirname+(_0x53f883(0x99)+_0xf85ba8),console[_0x53f883(0xba)](uploadPath),_0x4ff390['mv'](uploadPath,function(_0x2beeb2){const _0x1abb0b=_0x53f883;if(_0x2beeb2)return _0x254bee[_0x1abb0b(0xa0)](0x1f4)['send'](_0x2beeb2);_0x254bee['send']('File\x20Uploaded\x20Successfully');});}}),app[a0_0x3c3c7a(0xa8)](a0_0x3c3c7a(0xdc),signup),app['use'](a0_0x3c3c7a(0xc3),logout);function a0_0x35e1(_0x579596,_0x4f32e8){const _0x1917e0=a0_0x1917();return a0_0x35e1=function(_0x35e199,_0xf29ab9){_0x35e199=_0x35e199-0x91;let _0x25d6ed=_0x1917e0[_0x35e199];return _0x25d6ed;},a0_0x35e1(_0x579596,_0x4f32e8);}function a0_0x1917(){const _0x95428b=['forEach','env','4832208LNXcPL','express-fileupload','use','200639OsPCPy','join','config','name','broadcast','/peerjs','1477LpyrQb','database\x20connected','get','mouse-down','connection','express','connect','9ocWOFX','1804984uYjXJD','295020cNRiia','/:room','log','disconnect','white-boardClick','2611749ZoWqik','socket.io','/new','4946320kpSTni','44QMTFHO','./team_routes/auth/logout','/logout','peer','mongoose','static','emit','cookie-session','PORT','6tQAMDr','initialize','then','redirect','urlencoded','push','receiver','http','./team_routes/index','draw','params','user-disconnected','listen','DoClick-white-board','dotenv','join-room','/login','already_present_user','/signup','mouse-on-down','joined\x20room\x20with\x20id\x20=\x20','server\x20sending\x20message:','passport','\x20is\x20connected','layouts/layout','\x20is\x20disconnected','post','layout','/server_fileuploads/','files','indexOf','set','production','MONGO_URI','./team_routes/auth/login','status','16122eYFgOG','./data_schema/user','on-draw'];a0_0x1917=function(){return _0x95428b;};return a0_0x1917();}let connectionsList=[];io['on'](a0_0x3c3c7a(0xb3),_0x497837=>{const _0xaca5ac=a0_0x3c3c7a;_0x497837['on'](_0xaca5ac(0xd9),(_0x5acc29,_0x44a186,_0x509026)=>{const _0x2f5769=_0xaca5ac;console[_0x2f5769(0xba)](_0x2f5769(0x91)+_0x5acc29),_0x497837[_0x2f5769(0xaa)](_0x5acc29),_0x497837['on'](_0x2f5769(0xd0),_0x3ac997=>{const _0x4a3eaf=_0x2f5769;io['to'](_0x5acc29)[_0x4a3eaf(0xc7)](_0x4a3eaf(0xdb),_0x3ac997);}),_0x497837[_0x2f5769(0xad)]['to'](_0x5acc29)[_0x2f5769(0xc7)]('user-connected',_0x44a186,_0x509026),_0x497837['on'](_0x2f5769(0xbc),function(){const _0x136cfa=_0x2f5769;console[_0x136cfa(0xba)]('White\x20board\x20is\x20clicked.'),_0x497837['to'](_0x5acc29)['emit'](_0x136cfa(0xd7));}),connectionsList[_0x2f5769(0xcf)](_0x497837),console[_0x2f5769(0xba)](_0x497837['id']+_0x2f5769(0x94)),_0x497837['on'](_0x2f5769(0xd3),function(_0x2b1994){const _0x214ae1=_0x2f5769;connectionsList[_0x214ae1(0xa4)](function(_0x5d31f7){const _0x35cf51=_0x214ae1;_0x5d31f7['id']!==_0x497837['id']&&_0x497837['to'](_0x5acc29)[_0x35cf51(0xc7)](_0x35cf51(0xa3),{'x':_0x2b1994['x'],'y':_0x2b1994['y']});});}),_0x497837['on'](_0x2f5769(0xb2),function(_0x45f8d1){const _0x340f6f=_0x2f5769;connectionsList[_0x340f6f(0xa4)](function(_0x2861c6){const _0x208766=_0x340f6f;_0x2861c6['id']!==_0x497837['id']&&_0x497837['to'](_0x5acc29)[_0x208766(0xc7)](_0x208766(0xdd),{'x':_0x45f8d1['x'],'y':_0x45f8d1['y']});});}),_0x497837['on'](_0x2f5769(0xbb),function(_0x33eaf7){const _0x46add9=_0x2f5769;console[_0x46add9(0xba)](_0x497837['id']+'\x20is\x20disconnected'),console[_0x46add9(0xba)](_0x497837['id']+_0x46add9(0x96)),_0x497837[_0x46add9(0xad)]['to'](_0x5acc29)[_0x46add9(0xc7)](_0x46add9(0xd5),_0x44a186,_0x509026);const _0x2aef20=connectionsList[_0x46add9(0x9b)](_0x497837['id']);connectionsList['splice'](_0x2aef20,0x1);}),_0x497837['on']('message',(_0x5a9177,_0x287734)=>{const _0x36c4f8=_0x2f5769;console[_0x36c4f8(0xba)](_0x36c4f8(0x92)),io['to'](_0x5acc29)[_0x36c4f8(0xc7)]('createMessage',_0x5a9177,_0x287734);});});}),app[a0_0x3c3c7a(0xa8)]('/signup',signup),app['use'](a0_0x3c3c7a(0xc3),logout),server[a0_0x3c3c7a(0xd6)](process[a0_0x3c3c7a(0xa5)][a0_0x3c3c7a(0xc9)]||0xbb8);